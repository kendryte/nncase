@using global::CApiGen
@inherits RazorLight.TemplatePage<CommandExtractor>
@{
  DisableEncoding = true;
  var optionsName = Model.OptionsType.Name.ToSnake();
}


// clang-format off
/* This block is generated by tools/stackvm_gen/CApiGen at @Raw(DateTimeOffset.Now.ToString()). */
@foreach (var info in Model.OptionInfos) 
{
  if (info.PropertyType.IsEnum)
  {
    var enumName = info.PropertyType.Name.ToSnake();
@:typedef enum {
foreach(var (name, value) in info.PropertyType.RenderEnumFields(LangMode.UnCPP)){
@:  @(enumName)_@(name.ToSnake()) = @(value),
}
@:} @(enumName)_t
  }
}
/* end the auto generated block by tools/stackvm_gen/CApiGen at @Raw(DateTimeOffset.Now.ToString()). */
// clang-format on



class @(optionsName) : public clr_object_base {
  public:
    using clr_object_base::clr_object_base;

    @(optionsName)() {
        obj_ = nncase_clr_api()->@(optionsName)_create();
    }
@foreach( var info in Model.OptionInfos)
{
@:
@:    void @(info.PropertyName.ToSnake())(@(info.RenderSignature(SignMode.Type | SignMode.Param, LangMode.UnCPP))) {
@:        nncase_clr_api()->@(optionsName)_set_@(info.PropertyName.ToSnake())(obj_.get(), @(info.RenderSignature(SignMode.Param, LangMode.UnCPP)));
@:    }
}
};

// clang-format off
/* This block is generated by tools/stackvm_gen/CApiGen at @Raw(DateTimeOffset.Now.ToString()). */
clr_object_handle_t (*@(optionsName)_create)();
@foreach (var info in Model.OptionInfos) 
{
@:void (*@(optionsName)_set_@(info.PropertyName.ToSnake()))(clr_object_handle_t handle, @(info.RenderSignature(SignMode.Type | SignMode.Param, LangMode.UnCPP)));
}
/* end the auto generated block by tools/stackvm_gen/CApiGen at @Raw(DateTimeOffset.Now.ToString()). */
// clang-format on
